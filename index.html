<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="output.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <style>
      @media (max-width: 768px) {
  #container-app {
    height: 100%;
    width: 100%;
  }
  #forecast_div{
    display: grid;
    grid-template-rows: repeat(2,1fr);
    grid-template-columns: repeat(4,1fr);
  }
 
  #section1{
    flex-direction: column;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    #searchcity{
      width: 98%;
    }
    #search{
      width: 90%;
    }
    #locateme{
      width: 90%;
    }
  }
 

  input[type="text"], button {
    width: 100%;
    box-sizing: border-box;
  }
}

@media (max-width: 376px) {
  #container{
    padding: 0;
    margin: 0;
    background-repeat: repeat-y;
    height: fit-content;
    width: 100%;
    /* padding: 0px;
    margin: 0px;
    height: fit-content;
    width: 100%; */
  }
  #forcast_div{
    display: grid;
    grid-template-rows: repeat(7,1fr);
    grid-template-columns: 1fr;
    justify-content: center;
    align-items: center;
    section{
      border: 2px solid black;
    }
  }
  #container-app {
    height: fit-content;
    width: 100%;
    padding: 0;
    margin: 0;
    /* height: 200%;
    width: 100%;
    padding: 0px;
    margin: 0px;
    background-repeat: repeat-y; */
  }
  #section3{
    display: flex;
    flex-direction: column;
   justify-content: center;
   align-items: center;
  }
  
  header h1 {
    font-size: 1.5em;
  }

 

  input[type="text"], button {
    padding: 8px;
  }
}
.dropdown {
      display: none;
      position: absolute;
      background-color: white;
      color: black;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
    }
    .dropdown li {
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }
    .dropdown li:hover {
      background-color: #ddd;
    }
    </style>
</head>
<body class="bg-orange-600 font-serif text-white">
 
    
<div id="container" class="bg-gradient-to-r from-orange-400 via-yellow-400 to-cyan-400  h-[100vh] w-[100vw]  flex justify-center">
  <div id="container-app" class="weather-container border-4 h-full w-[100vw]  " style="background-image:url('pexels-pixabay-209831.jpg');background-position: center; background-repeat: repeat-y; height: fit-content;">
    <h1 class="text-center font-extrabold text-2xl mt-5">Weather Forecast Application</h1>
    <section id="section1" class="flex justify-center mt-4  w-full">
        <button id="history" class="border  active:bg-red-400  hover:bg-blue-600 mr-4 p-2 rounded-2xl font-semibold text-yellow-200">Your Previous Searches /City<i class="fa-solid fa-circle-chevron-down pl-3"></i>
        </button>
          <ul id="dropdowncity" class="dropdown hidden absolute bg-white text-black">
            <li class="p-2">City1</li>
            <li class="p-2">City2</li>
            <li class="p-2">City3</li>
          </ul>
        
       
        <input type="text" id="searchcity" placeholder="Enter Your City" class="w-2/5 border-2 text-black ">
       
      
      <button id="search" class="border-2 m-2 p-2 rounded-xl hover:bg-red-500"><i class="fa-solid fa-magnifying-glass text-white "></i></button>
      <button id="locateme" class="border-2 m-2 p-2 rounded-xl hover:bg-red-500 hover:text-black"> Use Current Location<i class="fa-solid fa-location-dot pl-3"></i></button>
      
    </section>


    <section id="section2" class="flex  items-center justify-evenly mt-5">
    
      <div class="border-2 p-4 rounded-full">
        <img id="" width="48" height="48" class="animate-bounce" src="https://img.icons8.com/fluency/48/dew-point.png" alt="dew-point"/>
        <h1>Humidity <br><span id="humid">45%</span></h1>
      
      </div> 
      <div>
        <img width="48" id="imgmain" height="48" class="animate-bounce" src="https://img.icons8.com/?size=100&id=LNLem5gzeiqe&format=png&color=000000" alt="partly-cloudy-rain"/>
        <h1>Today -<span id="tempc">54</span> ° C</h1>
        <h2 id="sky">Sunny</h2>
        <h3>Location- <span id="loc">j&k</span></h3>
      </div>
      <!-- https://img.icons8.com/?size=100&id=LNLem5gzeiqe&format=png&color=000000 -->
      <div class="border-2 p-4 rounded-full">
        <img width="48" height="48" class="animate-bounce" src="https://img.icons8.com/fluency/48/wind.png" alt="wind"/>
        <h1 class="" >Wind Speed <br><span id="wind">45</span>KM/HR</h1>
        
      </div>
      
      
    </section>
    

    <section id="section3" class="flex justify-center mt-5 text-white ">
      <section class="mb-4 p-5 rounded-3xl shadow-inner shadow-black justify-center items-center border border-b-4">
        <h2>Time-<span id="span1">10:00 Am</span></h2>
        <h2>Time Of The Day- <span id="span2">Evening</span></h2>
        <h2>Country- <span id="country">Bharat</span></h2>
        <h2>Date- <span id="span3">12-15-1111</span></h2>
      </section>


      <section class="ml-10 table-auto text-sm border border-b-4 p-5 rounded-3xl shadow-inner shadow-black ">
        <h1>AIR QUALITY INDEX:</h1>
        <table class="">
          <tr class="border-2">
            <th class="pr-8">GASES/ PARTICLES</th>
            <th class="ml-6">QUALITY</th>
            
          </tr>
          <tr>
            <td>CO</td><td id="co" class="text-right">0.5</td>
            
          </tr>
          <tr>
            <td>NO2</td><td id="no2" class="text-right">0.5</td>
            
          </tr>
          <tr>
            <td>SO2</td><td id="so2" class="text-right">0.5</td>
            
          </tr>
          <tr>
            <td>O3</td><td id="o3" class="text-right">0.5</td>
            
          </tr>
          <tr>
            <td>PM2.5</td><td id="pm25" class="text-right">0.5</td>
            
          </tr>
          <tr>
            <td>PM10</td><td id="pm10" class="text-right">0.5</td>
            
          </tr>
        </table>

      </section>

    </section>
    
      
      

      

      

      </section>
      <div class="mt-5 border-y-2">
        <h1 class="text-center underline border-2 border-spacing-6">Seven Days Weather Forecast</h1>
        <section class="grid justify-evenly grid-cols-7" id="forcast_div">
          <section class="border-r-2 pr-4 flex justify-center items-center flex-col">
            <h1 id="forecastday1">Sunday</h1>
            <img id="forimg1" class="animate-pulse" width="48" height="48" src="https://img.icons8.com/fluency/48/partly-cloudy-rain.png" alt="partly-cloudy-rain"/>
            <h2 id="day1">55 ° C</h2>
            <h2 id="day1c" class="text-wrap"></h2>
            <h3 class=" border-1"><img id="" width="28" height="28" class="animate-bounce " src="https://img.icons8.com/fluency/48/dew-point.png" alt="dew-point"/>Humidity->><span id="for1humid"></span> %</h3>
            <h3> <img width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/wind.png" alt="wind"/>Wind Speed->> <span id="for1wind"></span>Km/Hr.</h3>
          </section>
          <section class="border-r-2 pr-4 flex justify-center items-center flex-col">
            <h1 id="forecastday2">Sunday</h1>
            <img id="forimg2" class="animate-pulse" width="48" height="48" src="https://img.icons8.com/fluency/48/partly-cloudy-rain.png" alt="partly-cloudy-rain"/>
            <h2 id="day2">55 ° C</h2>
            <h2 id="day2c"></h2>
            <h3 class="inline"><img id="" width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/dew-point.png" alt="dew-point"/>Humidity->><span id="for2humid"></span> %</h3>
            <h3> <img width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/wind.png" alt="wind"/>Wind Speed->> <span id="for2wind"></span>Km/Hr.</h3>
          </section>
          <section class="border-r-2 pr-4 flex justify-center items-center flex-col">
            <h1 id="forecastday3">Sunday</h1>
            <img id="forimg3" class="animate-pulse" width="48" height="48" src="https://img.icons8.com/fluency/48/partly-cloudy-rain.png" alt="partly-cloudy-rain"/>
            <h2 id="day3">55 ° C</h2>
            <h2 id="day3c"></h2>
            <h3><img id="" width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/dew-point.png" alt="dew-point"/>Humidity->><span id="for3humid"></span> %</h3>
            <h3> <img width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/wind.png" alt="wind"/>Wind Speed->> <span id="for3wind"></span>Km/Hr.</h3>
          </section>
          <section class="border-r-2 pr-4 flex justify-center items-center flex-col">
            <h1 id="forecastday4">Sunday</h1>
            <img id="forimg4" class="animate-pulse" width="48" height="48" src="https://img.icons8.com/fluency/48/partly-cloudy-rain.png" alt="partly-cloudy-rain"/>
            <h2 id="day4">55 ° C</h2>
            <h2 id="day4c"></h2>
            <h3><img id="" width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/dew-point.png" alt="dew-point"/>Humidity->><span id="for4humid"></span> %</h3>
            <h3> <img width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/wind.png" alt="wind"/>Wind Speed->> <span id="for4wind"></span>Km/Hr.</h3>
          </section>
          <section class="border-r-2 pr-4 flex justify-center items-center flex-col">
            <h1 id="forecastday5">Sunday</h1>
            <img id="forimg5" class="animate-pulse" width="48" height="48" src="https://img.icons8.com/fluency/48/partly-cloudy-rain.png" alt="partly-cloudy-rain"/>
            <h2 id="day5">55 ° C</h2>
            <h2 id="day5c"></h2>
            <h3><img id="" width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/dew-point.png" alt="dew-point"/>Humidity->><span id="for5humid"></span> %</h3>
            <h3> <img width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/wind.png" alt="wind"/>Wind Speed->> <span id="for5wind"></span>Km/Hr.</h3>
          </section>
          <section class="border-r-2 pr-4 flex justify-center items-center flex-col">
            <h1 id="forecastday6">Sunday</h1>
            <img id="forimg6" class="animate-pulse" width="48" height="48" src="https://img.icons8.com/fluency/48/partly-cloudy-rain.png" alt=""/>
            <h2 id="day6">55 ° C</h2>
            <h2 id="day6c"></h2>
            <h3><img id="" width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/dew-point.png" alt="dew-point"/>Humidity->><span id="for6humid"></span> %</h3>
            <h3> <img width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/wind.png" alt="wind"/>Wind Speed->> <span id="for6wind"></span>Km/Hr.</h3>
          </section>
          <section class="border-r-2 pr-4 flex justify-center items-center flex-col">
            <h1 id="forecastday7">Sunday</h1>
            <img id="forimg7" class="animate-pulse" width="48" height="48" src="https://img.icons8.com/fluency/48/partly-cloudy-rain.png" alt="partly-cloudy-rain"/>
            <h2 id="day7">55 ° C</h2>
            <h2 id="day7c" class="text-wrap"></h2>
            <h3><img id="" width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/dew-point.png" alt="dew-point"/>Humidity->> <span id="for7humid"></span> %</h3>
            <h3> <img width="28" height="28" class="animate-bounce" src="https://img.icons8.com/fluency/48/wind.png" alt="wind"/>Wind Speed->> <span id="for7wind"></span>Km/Hr.</h3>
          </section>
      </div>
      
        
       
    </section>

    <section class="flex justify-center">
      
      
    </section>
  </div>
</div>

<script>
  let API=`http://api.weatherapi.com/v1/current.json?`;
  let apiKEY=`49c92cd8515344818f453627250101`;
  let forecastdays=8;
  let searchbutton=document.querySelector("#search");
  let locateme=document.querySelector("#locateme");
  searchbutton.addEventListener("click",getWeather);

  //image icon update..
  
  async function getWeather(){
    let City=document.querySelector("#searchcity").value;
    let response=await fetch(`${API}key=${apiKEY}&q=${City}&days=${forecastdays}&aqi=yes`);
    if(response.ok){
      let data=await response.json();
      console.log(data);
      document.querySelector("#tempc").innerHTML=data.current.temp_c;
      document.querySelector("#sky").innerHTML=data.current.condition.text;
      
      document.querySelector("#loc").innerHTML=data.location.name;
      document.querySelector("#wind").innerHTML=data.current.wind_kph;
      document.querySelector("#humid").innerHTML=data.current.humidity;
      document.querySelector("#pm10").innerHTML=data.current.air_quality.pm10;
      document.querySelector("#pm25").innerHTML=data.current.air_quality.pm2_5;
      document.querySelector("#o3").innerHTML=data.current.air_quality.o3;
      document.querySelector("#so2").innerHTML=data.current.air_quality.so2;
      document.querySelector("#no2").innerHTML=data.current.air_quality.no2;
      document.querySelector("#co").innerHTML=data.current.air_quality.co;  
      document.querySelector("#country").innerHTML=data.location.country;
      updateWeatherIcon("#sky","#imgmain");
      
    getforecast();
    storingcity();
    }
   else{
    alert("Enter a valid city name");
    document.querySelector("#searchcity").value="";
   }
    

  }
  let API1=`http://api.weatherapi.com/v1/forecast.json?`;
  
  async function getforecast(){
    let City=document.querySelector("#searchcity").value;
    let forecast=await fetch(`${API1}key=${apiKEY}&q=${City}&days=8&aqi=no`);
    let foredata=await forecast.json();
    if(forecast.ok){
      console.log(foredata);
    document.querySelector("#forecastday1").innerHTML=foredata.forecast.forecastday[1].date;
    document.querySelector("#for1humid").innerHTML=foredata.forecast.forecastday[1].day.avghumidity;
    document.querySelector("#for1wind").innerHTML=foredata.forecast.forecastday[1].day.maxwind_kph;
    document.querySelector("#forecastday2").innerHTML=foredata.forecast.forecastday[2].date;
    document.querySelector("#for2humid").innerHTML=foredata.forecast.forecastday[2].day.avghumidity;
    document.querySelector("#for2wind").innerHTML=foredata.forecast.forecastday[2].day.maxwind_kph;
    document.querySelector("#forecastday3").innerHTML=foredata.forecast.forecastday[3].date;
    document.querySelector("#for3humid").innerHTML=foredata.forecast.forecastday[3].day.avghumidity;
    document.querySelector("#for3wind").innerHTML=foredata.forecast.forecastday[3].day.maxwind_kph;
    document.querySelector("#forecastday4").innerHTML=foredata.forecast.forecastday[4].date;
    document.querySelector("#for4humid").innerHTML=foredata.forecast.forecastday[4].day.avghumidity;
    document.querySelector("#for4wind").innerHTML=foredata.forecast.forecastday[4].day.maxwind_kph;
    document.querySelector("#forecastday5").innerHTML=foredata.forecast.forecastday[5].date;
    document.querySelector("#for5humid").innerHTML=foredata.forecast.forecastday[5].day.avghumidity;
    document.querySelector("#for5wind").innerHTML=foredata.forecast.forecastday[5].day.maxwind_kph;
    document.querySelector("#forecastday6").innerHTML=foredata.forecast.forecastday[6].date;
    document.querySelector("#for6humid").innerHTML=foredata.forecast.forecastday[6].day.avghumidity;
    document.querySelector("#for6wind").innerHTML=foredata.forecast.forecastday[6].day.maxwind_kph;
    document.querySelector("#forecastday7").innerHTML=foredata.forecast.forecastday[7].date;
    document.querySelector("#for7humid").innerHTML=foredata.forecast.forecastday[7].day.avghumidity;
    document.querySelector("#for7wind").innerHTML=foredata.forecast.forecastday[7].day.maxwind_kph;
    document.querySelector("#day1").innerHTML=`${foredata.forecast.forecastday[1].day.avgtemp_c} °C`;
    document.querySelector("#day2").innerHTML=`${foredata.forecast.forecastday[2].day.avgtemp_c} °C`;
    document.querySelector("#day3").innerHTML=`${foredata.forecast.forecastday[3].day.avgtemp_c} °C`;
    document.querySelector("#day4").innerHTML=`${foredata.forecast.forecastday[4].day.avgtemp_c} °C`;
    document.querySelector("#day5").innerHTML=`${foredata.forecast.forecastday[5].day.avgtemp_c} °C`;
    document.querySelector("#day6").innerHTML=`${foredata.forecast.forecastday[6].day.avgtemp_c} °C`;
    document.querySelector("#day7").innerHTML=`${foredata.forecast.forecastday[7].day.avgtemp_c} °C`;
    document.querySelector("#day1c").innerHTML=`${foredata.forecast.forecastday[1].day.condition.text}`;
    document.querySelector("#day2c").innerHTML=`${foredata.forecast.forecastday[2].day.condition.text}`;
    document.querySelector("#day3c").innerHTML=`${foredata.forecast.forecastday[3].day.condition.text}`;
    document.querySelector("#day4c").innerHTML=`${foredata.forecast.forecastday[4].day.condition.text}`;
    document.querySelector("#day5c").innerHTML=`${foredata.forecast.forecastday[5].day.condition.text}`;
    document.querySelector("#day6c").innerHTML=`${foredata.forecast.forecastday[6].day.condition.text}`;
    document.querySelector("#day7c").innerHTML=`${foredata.forecast.forecastday[7].day.condition.text}`;

// 

updateWeatherIcon("#day1c","#forimg1");
updateWeatherIcon("#day2c","#forimg2");
updateWeatherIcon("#day3c","#forimg3");
updateWeatherIcon("#day4c","#forimg4");
updateWeatherIcon("#day5c","#forimg5");
updateWeatherIcon("#day6c","#forimg6");
updateWeatherIcon("#day7c","#forimg7");
      


// 


    }
    else
      alert(" error in loading Forecast data ");
   

   

  }
  function updateWeatherIcon(conditionElementId, imgElementId) {
  const condition = document.querySelector(conditionElementId).innerHTML;
  let imgSrc = '';

  if (condition == "Sunny" || condition == "Clear") {
    imgSrc = "sunny.png";
  } else if (condition == "Partly Cloudy " || condition == "Cloudy ") {
    imgSrc = "partcloudy.jpg";
  } else if (
    condition == "rainy" ||
    condition == "Heavy rain" ||
    condition == "Moderate rain" ||
    condition == "Light rain" ||
    condition == "Patchy light rain" ||
    condition == "Moderate rain at times" ||
    condition == "Heavy rain at times" ||
    condition == "Patchy rain nearby" ||
    condition == 'Light freezing rain' ||
    condition == 'Thundery outbreaks in nearby' 
  ) {
    imgSrc = "rainy.png";
  } else if (condition == "Overcast ") {
    imgSrc = "overcast.jpg";
  }else if (condition == 'Moderate snow' || condition =='Light snow showers') {
    imgSrc = "snow.png";
  } 
  
  else if (
    condition == "Fog" ||
    condition == "Freezing fog" ||
    condition == "Mist" ||
    condition == "Blizzard"
  ) {
    imgSrc = "foggy.png";
  } else {
    console.log(`No matching condition found for ${conditionElementId}:`, condition);
  }

  document.querySelector(imgElementId).src = imgSrc;

}



  locateme.addEventListener("click",getlocation);
  
  async function getlocation() {
    document.querySelector("#searchcity").value = "";
    if (navigator.geolocation) {
       navigator.geolocation.getCurrentPosition(success, failed);
    } else {
      console.log("Geolocation is not supported by this browser.");
    }
  }

  async function success(position) {
    try {
      let latitude = position.coords.latitude;
      let longitude = position.coords.longitude;
      console.log(latitude, longitude);

      let responsegeo = await fetch(`${API1}key=${apiKEY}&q=${latitude},${longitude}&days=8&aqi=yes`);
      if (!responsegeo.ok) {
        throw new Error(`HTTP error! status: ${responsegeo.status}`);
      }
      let datageo = await responsegeo.json();
      console.log(datageo);

      document.querySelector("#tempc").innerHTML = datageo.current.temp_c;
      document.querySelector("#sky").innerHTML = datageo.current.condition.text;
      document.querySelector("#loc").innerHTML = datageo.location.name;
      document.querySelector("#wind").innerHTML = datageo.current.wind_kph;
      document.querySelector("#humid").innerHTML = datageo.current.humidity;
      document.querySelector("#pm10").innerHTML = datageo.current.air_quality.pm10;
      document.querySelector("#pm25").innerHTML = datageo.current.air_quality.pm2_5;
      document.querySelector("#o3").innerHTML = datageo.current.air_quality.o3;
      document.querySelector("#so2").innerHTML = datageo.current.air_quality.so2;
      document.querySelector("#no2").innerHTML = datageo.current.air_quality.no2;
      document.querySelector("#co").innerHTML = datageo.current.air_quality.co;
      updateWeatherIcon("#sky","#imgmain");

      //ye hua forecast ka
    document.querySelector("#forecastday1").innerHTML=datageo.forecast.forecastday[1].date;
    document.querySelector("#for1humid").innerHTML=datageo.forecast.forecastday[1].day.avghumidity;
    document.querySelector("#for1wind").innerHTML=datageo.forecast.forecastday[1].day.maxwind_kph;
    document.querySelector("#forecastday2").innerHTML=datageo.forecast.forecastday[2].date;
    document.querySelector("#for2humid").innerHTML=datageo.forecast.forecastday[2].day.avghumidity;
    document.querySelector("#for2wind").innerHTML=datageo.forecast.forecastday[2].day.maxwind_kph;
    document.querySelector("#forecastday3").innerHTML=datageo.forecast.forecastday[3].date;
    document.querySelector("#for3humid").innerHTML=datageo.forecast.forecastday[3].day.avghumidity;
    document.querySelector("#for3wind").innerHTML=datageo.forecast.forecastday[3].day.maxwind_kph;
    document.querySelector("#forecastday4").innerHTML=datageo.forecast.forecastday[4].date;
    document.querySelector("#for4humid").innerHTML=datageo.forecast.forecastday[4].day.avghumidity;
    document.querySelector("#for4wind").innerHTML=datageo.forecast.forecastday[4].day.maxwind_kph;
    document.querySelector("#forecastday5").innerHTML=datageo.forecast.forecastday[5].date;
    document.querySelector("#for5humid").innerHTML=datageo.forecast.forecastday[5].day.avghumidity;
    document.querySelector("#for5wind").innerHTML=datageo.forecast.forecastday[5].day.maxwind_kph;
    document.querySelector("#forecastday6").innerHTML=datageo.forecast.forecastday[6].date;
    document.querySelector("#for6humid").innerHTML=datageo.forecast.forecastday[6].day.avghumidity;
    document.querySelector("#for6wind").innerHTML=datageo.forecast.forecastday[6].day.maxwind_kph;
    document.querySelector("#forecastday7").innerHTML=datageo.forecast.forecastday[7].date;
    document.querySelector("#for7humid").innerHTML=datageo.forecast.forecastday[7].day.avghumidity;
    document.querySelector("#for7wind").innerHTML=datageo.forecast.forecastday[7].day.maxwind_kph;

    document.querySelector("#day1").innerHTML=`${datageo.forecast.forecastday[1].day.avgtemp_c} °C`;
    document.querySelector("#day2").innerHTML=`${datageo.forecast.forecastday[2].day.avgtemp_c} °C`;
    document.querySelector("#day3").innerHTML=`${datageo.forecast.forecastday[3].day.avgtemp_c} °C`;
    document.querySelector("#day4").innerHTML=`${datageo.forecast.forecastday[4].day.avgtemp_c} °C`;
    document.querySelector("#day5").innerHTML=`${datageo.forecast.forecastday[5].day.avgtemp_c} °C`;
    document.querySelector("#day6").innerHTML=`${datageo.forecast.forecastday[6].day.avgtemp_c} °C`;
    document.querySelector("#day7").innerHTML=`${datageo.forecast.forecastday[7].day.avgtemp_c} °C`;
    document.querySelector("#day1c").innerHTML=`${datageo.forecast.forecastday[0].day.condition.text}`;
    document.querySelector("#day2c").innerHTML=`${datageo.forecast.forecastday[1].day.condition.text}`;
    document.querySelector("#day3c").innerHTML=`${datageo.forecast.forecastday[2].day.condition.text}`;
    document.querySelector("#day4c").innerHTML=`${datageo.forecast.forecastday[3].day.condition.text}`; 
    document.querySelector("#day5c").innerHTML=`${datageo.forecast.forecastday[4].day.condition.text}`;
    document.querySelector("#day6c").innerHTML=`${datageo.forecast.forecastday[5].day.condition.text}`;
    document.querySelector("#day7c").innerHTML=`${datageo.forecast.forecastday[6].day.condition.text}`;
    updateWeatherIcon("#day1c","#forimg1");
    updateWeatherIcon("#day2c","#forimg2");
    updateWeatherIcon("#day3c","#forimg3");
    updateWeatherIcon("#day4c","#forimg4");
    updateWeatherIcon("#day5c","#forimg5");
    updateWeatherIcon("#day6c","#forimg6");
    updateWeatherIcon("#day7c","#forimg7");
    
    } catch (error) {
      console.error('Error fetching weather data:', error);
    }
  }

  function failed(error) {
    console.error('Error getting location:', error);
  }    


  function storingcity(){
   
    let city=document.querySelector("#searchcity").value.trim();
    if(city){
      localStorage.setItem(city,city);
      updateDropdown();
    }
 
  }

  function updateDropdown() {
      let dropdown = document.getElementById('dropdowncity');
      dropdown.innerHTML = ''; // Clear existing items
      for (let i = 0; i < localStorage.length; i++) {
        let city = localStorage.key(i);
        let li = document.createElement('li');
        li.textContent = city;
        li.addEventListener('click', function() {
          document.getElementById('searchcity').value = city;
          dropdown.style.display = 'none';
        });
        dropdown.appendChild(li);
      }
    }



  document.getElementById('history').addEventListener('click', function() {
      var dropdown = document.getElementById('dropdowncity');
      if (dropdown.style.display === 'none' || dropdown.style.display === '') {
        dropdown.style.display = 'block';
      } else {
        dropdown.style.display = 'none';
      }
    });
    window.onload=updateDropdown();
    





      







  const tarik=new Date();
  let day=tarik.getDate();
  let month=tarik.getMonth()+1;
  let year=tarik.getFullYear();
  document.querySelector("#span3").innerHTML=`${day}-${month}-${year}`;

  document.querySelector('#span1').innerHTML=tarik.getHours()+":"+tarik.getMinutes()+":"+tarik.getSeconds();
  if(tarik.getHours()>=0 && tarik.getHours()<12){
    document.querySelector('#span2').innerHTML="Morning";
    
  }
  else if(tarik.getHours()>=12 && tarik.getHours()<16){
    document.querySelector('#span2').innerHTML="Afternoon";
    
  }
  else if(tarik.getHours()>=16 && tarik.getHours()<20){
    document.querySelector('#span2').innerHTML="Evening";
  
  }
  else{
    document.querySelector('#span2').innerHTML="Night";
   
  }


</script>
</body>
</html>




